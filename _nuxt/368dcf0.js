(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{645:function(e,t,n){"use strict";n.r(t);var r=n(200),o=n(469),l=n(571),c=n(642),d=n(134),m=n(485),f=n(561),h=n(66),v=n(491),w=(n(38),n(26),n(217),n(8)),k=(n(59),{data:function(){return{members:null,pages:0,search:null,loading:!1,headers:[{text:"Name ",value:"name"},{text:"MSISDN ",value:"msisdn"},{text:"Role",value:"role"},{text:"Status ",value:"status"},{text:"Deposits ",value:"deposits"},{text:"Dividends ",value:"dividend"},{text:"Penalty",value:"penalty"},{text:"Withdraws",value:"withdraws"},{text:"Dividends ",value:"dividend"},{text:"Social Fund",value:"socialfund"},{text:"S.F Withdraws",value:"socialfundWithdraws"},{text:"Created Date",value:"created"}]}},head:function(){return{title:"Members"}},created:function(){this.paginate(this.initialPage)},methods:{rowclick:function(e){this.show=!0,this.$router.push("/members/".concat(e.msisdn))},handlePagination:function(e){null===this.search?this.paginate(e):this.filterfromdatabase(e)},filterfromdatabase:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,t.$api.$get("/members/search",{params:{page:e.page,size:e.itemsPerPage,sort:"name asc",search:t.search}}).then((function(e){t.loading=!1,t.members=e.results,t.pages=e.totalRows,t.page=e.currentPage})).catch((function(e){}));case 3:case"end":return n.stop()}}),n)})))()},paginate:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$api.$get("/members",{params:{page:e.page,size:e.itemsPerPage,sort:"name desc"}}).then((function(e){t.members=e.results,t.pages=e.totalRows,t.page=e.currentPage})).catch((function(e){}));case 2:case"end":return n.stop()}}),n)})))()}}}),x=n(62),component=Object(x.a)(k,(function(){var e=this,t=e._self._c;return e.members?t(c.a,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.members,"item-key":"createdDate",loading:e.loading,dense:"","loading-text":"Loading... Please wait","items-per-page":e.itemsPerPage,"footer-props":e.footerprops,"server-items-length":e.pages},on:{"click:row":e.rowclick,pagination:e.handlePagination},scopedSlots:e._u([{key:"top",fn:function(){return[t(h.a,{attrs:{dark:"",color:"primary",flat:""}},[t(v.a,{staticClass:"font-weight-black text-h4"},[e._v("\n        Group Members\n      ")]),e._v(" "),t(m.a),e._v(" "),t(f.a,{staticClass:"search mr-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search member by name, MSISDN","single-line":"","hide-details":"",outlined:"",filled:"",height:"40",dense:"",clearable:"",autocomplete:"off",light:"","background-color":"white"},on:{"click:clear":function(t){return e.paginate(e.initialPage)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),t(o.a,{attrs:{color:"button"},on:{click:function(t){null!=e.search&&e.filterfromdatabase(e.initialPage)}}},[t(d.a,{attrs:{left:""}},[e._v("mdi-filter-variant")]),e._v("\n        Query result")],1)],1)]},proxy:!0},{key:"item.created",fn:function(n){var r=n.item;return[t("span",[e._v(e._s(e._f("dateformat")(r.createdDate)))])]}},{key:"item.name",fn:function(n){var r=n.item;return[t("span",[e._v(e._s(r.name.split(" ")[0]+" "+r.familyName.split(" ")[0]))])]}},{key:"item.status",fn:function(n){var o=n.item;return[t(l.a,{attrs:{dark:"",color:"ACTIVE"==o.status?"green":"success"}},["ACTIVE"==o.status?t(r.a,{attrs:{left:""}},[t(d.a,[e._v("mdi-checkbox-marked-circle")])],1):e._e(),e._v("\n      "+e._s(o.status.toLowerCase())+"\n    ")],1)]}}],null,!1,3665665709)}):t("skeleton-table-loader")}),[],!1,null,null,null);t.default=component.exports}}]);