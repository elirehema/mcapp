(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{663:function(e,t,n){"use strict";n.r(t);var r=n(477),o=n(585),l=n(650),c=n(135),m=n(493),d=n(570),f=n(68),v=n(499),_=n(6),y=(n(50),{data:function(){return{loans:[],pages:0,msisdn:"",headers:[{text:"Loan ID",value:"id"},{text:"MSISDN",value:"msisdn"},{text:"Group Name",value:"group.name"},{text:"Loan Amount",value:"loanAmount"},{text:"Loan Balance",value:"loanBalance"},{text:"Loan Type ",value:"type"},{text:"Loan Status ",value:"status"},{text:"Loan Date",value:"loanDate"},{text:"Last Repayment Date",value:"lastRepaymentDate"},{text:"Due Date",value:"loanDueDate"}],show:!1,editedItem:{}}},head:function(){return{title:"Loans"}},created:function(){this.paginate({page:0,itemsPerPage:10})},methods:{rowclick:function(e){this.show=!0,this.$router.push("/transactions/".concat(e.id))},paginate:function(e){var t=this;return Object(_.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$api.$get("/members/loans",{params:{page:e.page,size:e.itemsPerPage,sort:"loan_date desc",msisdn:t.msisdn}}).then((function(e){t.pages=e.totalRows,t.page=e.currentPage,t.loans=e.results})).catch((function(e){}));case 2:case"end":return n.stop()}}),n)})))()}}}),h=n(62),component=Object(h.a)(y,(function(){var e=this,t=e._self._c;return t("div",[t(f.a,{attrs:{flat:""}},[t(v.a,{staticClass:"font-weight-medium"},[e._v("\n      Member Loans Query\n    ")]),e._v(" "),t(m.a),e._v(" "),t("div",{staticClass:"d-flex justify-end"},[t(d.a,{staticClass:"search mr-2",attrs:{"append-icon":"mdi-magnify",label:"Enter member MSISDN","single-line":"","hide-details":"",outlined:"",filled:"",height:"40",dense:""},model:{value:e.msisdn,callback:function(t){e.msisdn=t},expression:"msisdn"}}),e._v(" "),t(r.a,{staticClass:"px-8 py-4",attrs:{color:"primary"},on:{click:e.paginate}},[t(c.a,{attrs:{left:""}},[e._v("\n          mdi-magnify\n        ")]),e._v("Query\n      ")],1)],1)],1),e._v(" "),e.loans?t(l.a,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.loans,"item-key":"id","footer-props":e.footerprops,"server-items-length":e.pages},on:{pagination:e.paginate},scopedSlots:e._u([{key:"item.created",fn:function(n){var r=n.item;return[t("span",[e._v(e._s(e._f("dateformat")(r.transactionDate)))])]}},{key:"item.status",fn:function(n){var r=n.item;return[t(o.a,{attrs:{small:"",color:"warning"}},[e._v("\n        "+e._s(r.loanStatus)+"\n      ")])]}},{key:"no-data",fn:function(){return[t("span",[e._v("No loan found ...")])]},proxy:!0},{key:"item.loanAmount",fn:function(t){var n=t.item;return[e._v("\n      "+e._s(e._f("currency")(n.loanAmount))+"\n    ")]}},{key:"item.loanBalance",fn:function(t){var n=t.item;return[e._v("\n      "+e._s(e._f("currency")(n.loanBalance))+"\n    ")]}},{key:"item.type",fn:function(n){var r=n.item;return[t("span",[e._v(e._s(r.loanType.type)+"-("+e._s(r.loanType.flag)+")")])]}}],null,!1,1419555242)}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports}}]);